import{s as l}from"./navBarConfig.BbeR0FQe.js";const d={darkTheme:"one-dark-pro",lightTheme:"one-light"},u="light",E="dark",y="system",D=u,b="banner",h="overlay",g="none",H=35,B=30,R=H+B,p=e=>{const n="/".endsWith("/")?"/".slice(0,-1):"/";return e==="/"||e===n||e==="/"};function v(){if(typeof document>"u")return Number.parseInt("250",10);const t=document.getElementById("config-carrier");return Number.parseInt(t?.dataset.hue||"250",10)}function S(){return l.themeColor.defaultMode??D}function C(){return typeof window>"u"?u:window.matchMedia("(prefers-color-scheme: dark)").matches?E:u}function N(e){return e===y?C():e}function U(){if(typeof localStorage>"u"||typeof localStorage.getItem!="function")return v();const e=localStorage.getItem("hue");return e?Number.parseInt(e,10):v()}function F(e){if(typeof localStorage>"u"||typeof localStorage.setItem!="function"||typeof document>"u")return;localStorage.setItem("hue",String(e));const t=document.querySelector(":root");t&&t.style.setProperty("--hue",String(e))}function q(e){if(typeof document>"u")return;const t=N(e),n=document.documentElement.classList.contains("dark"),a=document.documentElement.getAttribute("data-theme");let o=!1;switch(t){case u:o=!1;break;case E:o=!0;break;default:o=n;break}const s=n!==o,i=o?d.darkTheme:d.lightTheme,r=a!==i;!s&&!r||(s&&(o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),r&&document.documentElement.setAttribute("data-theme",i))}let c=null;function G(e){typeof localStorage>"u"||typeof localStorage.setItem!="function"||(q(e),localStorage.setItem("theme",e),e===y?k():T())}function k(){if(T(),typeof window>"u")return;const e=window.matchMedia("(prefers-color-scheme: dark)"),t=n=>{const a=n.matches;if(document.documentElement.classList.contains("dark")===a)return;a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const s=a?d.darkTheme:d.lightTheme;document.documentElement.setAttribute("data-theme",s),window.dispatchEvent(new CustomEvent("theme-change"))};t(e),e.addEventListener?e.addEventListener("change",t):e.addListener(t),c=t}function T(){if(typeof window>"u"||!c)return;const e=window.matchMedia("(prefers-color-scheme: dark)");e.removeEventListener?e.removeEventListener("change",c):e.removeListener(c),c=null}function P(){return typeof localStorage>"u"||typeof localStorage.getItem!="function"?S():localStorage.getItem("theme")||S()}function j(){if(typeof localStorage>"u"||typeof localStorage.getItem!="function")return;P()===y&&k()}function I(e){if(!(l.backgroundWallpaper.switchable??!0))return;if((document.documentElement.getAttribute("data-wallpaper-mode")||l.backgroundWallpaper.mode)===e){x(e);return}document.documentElement.classList.add("is-wallpaper-transitioning"),document.documentElement.setAttribute("data-wallpaper-mode",e),requestAnimationFrame(()=>{const a=document.body;switch(a.classList.remove("enable-banner","wallpaper-transparent"),e){case b:a.classList.add("enable-banner"),M();break;case h:a.classList.add("wallpaper-transparent"),A();break;case g:f();break;default:f();break}W(e),requestAnimationFrame(()=>{document.documentElement.classList.remove("is-wallpaper-transitioning")})})}function x(e){const t=document.body;switch(t.classList.remove("enable-banner","wallpaper-transparent"),e){case b:t.classList.add("enable-banner"),M();break;case h:t.classList.add("wallpaper-transparent"),A();break;case g:f();break}W(e)}function M(){const e=document.querySelector("[data-overlay-wallpaper]");e&&(e.style.display="none",e.classList.add("hidden"),e.classList.add("opacity-0"),e.classList.remove("opacity-100"));const t=document.getElementById("banner-wrapper");if(t){const r=p(window.location.pathname);window.innerWidth<1024&&!r?(t.style.display="none",t.classList.add("mobile-hide-banner")):(t.style.display="block",t.style.setProperty("display","block","important"),requestAnimationFrame(()=>{t.classList.remove("hidden"),t.classList.remove("opacity-0"),t.classList.add("opacity-100"),t.classList.remove("mobile-hide-banner")}))}const n=document.getElementById("banner-credit-desktop"),a=document.getElementById("banner-credit-mobile");n&&(n.style.display=""),a&&(a.style.display="");const o=document.querySelector(".banner-text-overlay");if(o){const r=l.backgroundWallpaper.banner?.homeText?.enable,m=p(window.location.pathname);r&&m?o.classList.remove("hidden"):o.classList.add("hidden")}w("banner");const s=document.querySelector(".absolute.w-full.z-30");if(s){const r=p(window.location.pathname);window.innerWidth<1024&&!r?s.classList.add("mobile-main-no-banner"):s.classList.remove("mobile-main-no-banner")}L(!1);const i=document.getElementById("navbar");if(i){const r=l.backgroundWallpaper.banner?.navbar?.transparentMode||"semi";i.setAttribute("data-transparent-mode",r),r==="semifull"&&typeof window.initSemifullScrollDetection=="function"&&window.initSemifullScrollDetection()}}function A(){const e=document.querySelector("[data-overlay-wallpaper]");e&&(e.style.display="block",e.style.setProperty("display","block","important"),requestAnimationFrame(()=>{e.classList.remove("hidden"),e.classList.remove("opacity-0"),e.classList.add("opacity-100")}));const t=document.getElementById("banner-wrapper");t&&(t.style.display="none",t.classList.add("hidden"),t.classList.add("opacity-0"),t.classList.remove("opacity-100"));const n=document.getElementById("banner-credit-desktop"),a=document.getElementById("banner-credit-mobile");n&&(n.style.display="none"),a&&(a.style.display="none");const o=document.querySelector(".banner-text-overlay");o&&o.classList.add("hidden"),L(!0),w("overlay")}function f(){const e=document.getElementById("banner-wrapper"),t=document.querySelector("[data-overlay-wallpaper]");e&&(e.style.display="none",e.classList.add("hidden"),e.classList.add("opacity-0")),t&&(t.style.display="none",t.classList.add("hidden"),t.classList.add("opacity-0"),t.classList.remove("opacity-100"));const n=document.getElementById("banner-credit-desktop"),a=document.getElementById("banner-credit-mobile");n&&(n.style.display="none"),a&&(a.style.display="none");const o=document.querySelector(".banner-text-overlay");o&&o.classList.add("hidden"),w("none"),L(!1)}function W(e){const t=document.getElementById("navbar");if(!t)return;let n;e===h?n="semi":e===g?n="none":n=l.backgroundWallpaper.banner?.navbar?.transparentMode||"semi",t.setAttribute("data-transparent-mode",n),t.classList.remove("navbar-transparent-semi","navbar-transparent-full","navbar-transparent-semifull"),t.classList.remove("scrolled"),n==="semifull"&&e===b&&typeof window.initSemifullScrollDetection=="function"?window.initSemifullScrollDetection():window.semifullScrollHandler&&(window.removeEventListener("scroll",window.semifullScrollHandler),delete window.semifullScrollHandler)}function w(e){const t=document.querySelector(".absolute.w-full.z-30");if(t)switch(t.classList.remove("mobile-main-no-banner","no-banner-layout"),e){case"banner":t.style.top="calc(var(--banner-height) - 3rem)";break;case"overlay":t.classList.add("no-banner-layout"),t.style.top="5.5rem";break;case"none":t.classList.add("no-banner-layout"),t.style.top="5.5rem";break;default:t.style.top="5.5rem";break}}function L(e){const t=document.querySelector(".absolute.w-full.z-30"),n=document.body;!t||!n||(e?(t.classList.add("wallpaper-transparent"),n.classList.add("wallpaper-transparent")):(t.classList.remove("wallpaper-transparent"),n.classList.remove("wallpaper-transparent")))}function z(e){typeof localStorage>"u"||typeof localStorage.setItem!="function"||(localStorage.setItem("wallpaperMode",e),I(e))}function $(){const e=_();I(e)}function _(){return typeof localStorage>"u"||typeof localStorage.getItem!="function"?l.backgroundWallpaper.mode:localStorage.getItem("wallpaperMode")||l.backgroundWallpaper.mode}export{B,E as D,u as L,y as S,b as W,h as a,g as b,P as c,q as d,G as e,U as f,_ as g,v as h,F as i,$ as j,j as k,d as l,H as m,R as n,z as s};
