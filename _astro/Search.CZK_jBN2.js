import{p as kt,o as jt,i as zt,s as Q,r as Rt}from"./props.CFp1PoRn.js";import{q as $t,v as Bt,f as I,a as U,t as D,g as a,e as Y,b as R,p as Ut,c as Ht,s as $,m as H,d as T,u as l,h as f,i as g,r as y,j as ct}from"./utils.BUOTzkNE.js";import{s as K}from"./render.DrVGAan2.js";import{i as M}from"./if.D48hGaIU.js";import{e as Vt,i as Jt}from"./each.YV9WMojM.js";import{I as V,h as lt}from"./Icon.C6e8Bd3Z.js";import{b as Tt}from"./input.CRUyF9GO.js";import{I as m}from"./zh_TW.BW4NqRpc.js";import{i as b}from"./translation.WFxap6wN.js";import{N as Z}from"./navBarConfig.BbeR0FQe.js";import{u as St}from"./url-utils.38YdZX-d.js";/* empty css                        */import"./branches.0nLXAaZu.js";function Xt(i,t){if(!i||typeof i!="string"){console.warn("navigateToPage: Invalid URL provided");return}if(i.startsWith("http://")||i.startsWith("https://")||i.startsWith("//")){window.open(i,"_blank");return}if(i.startsWith("#")){const e=document.getElementById(i.slice(1));e&&e.scrollIntoView({behavior:"smooth"});return}if(typeof window<"u"&&window.swup)try{t?.replace||window.swup.navigate(i)}catch(e){console.error("Swup navigation failed:",e),qt(i)}else qt(i)}function qt(i,t){window.location.href=i}const Gt={INDEX_NOT_FOUND:"index_not_found"};class P extends Error{name="MeiliSearchError"}class _t extends P{name="MeiliSearchApiError";cause;response;constructor(t,e){super(e?.message??`${t.status}: ${t.statusText}`),this.response=t,e!==void 0&&(this.cause=e)}}class It extends P{name="MeiliSearchRequestError";constructor(t,e){super(`Request to ${t} has failed`,{cause:e})}}class At extends P{name="MeiliSearchRequestTimeOutError";cause;constructor(t,e){super(`request timed out after ${t}ms`),this.cause={timeout:t,requestInit:e}}}class Qt extends P{name="MeiliSearchTaskTimeOutError";cause;constructor(t,e){super(`timeout of ${e}ms has exceeded on task ${t} when waiting for it to be resolved.`),this.cause={taskUid:t,timeout:e}}}const Yt="0.54.0",Zt={version:Yt};function te(i){return i.startsWith("https://")||i.startsWith("http://")?i:`http://${i}`}function ee(i){return i.endsWith("/")||(i+="/"),i}function se(i,t){for(const[e,s]of Object.entries(t))s!=null&&i.set(e,Array.isArray(s)?s.join():s instanceof Date?s.toISOString():String(s))}function ie(i,t){const e="X-Meilisearch-Client",s=`Meilisearch JavaScript (v${Zt.version})`,r="Content-Type",o="Authorization",n=new Headers(t);if(i.apiKey&&!n.has(o)&&n.set(o,`Bearer ${i.apiKey}`),n.has(r)||n.set(r,"application/json"),i.clientAgents!==void 0){const d=i.clientAgents.concat(s);n.set(e,d.join(" ; "))}else n.set(e,s);return n}const tt=Symbol("<timeout>");function Et(i,t){const{signal:e}=i,s=new AbortController;if(e!=null){let r=null;if(e.aborted)s.abort(e.reason);else{const o=()=>s.abort(e.reason);e.addEventListener("abort",o,{once:!0}),r=()=>e.removeEventListener("abort",o),s.signal.addEventListener("abort",r,{once:!0})}return()=>{if(e.aborted)return;const o=setTimeout(()=>s.abort(tt),t),n=()=>{clearTimeout(o),r!==null&&s.signal.removeEventListener("abort",r)};return e.addEventListener("abort",n,{once:!0}),()=>{e.removeEventListener("abort",n),n()}}}return i.signal=s.signal,()=>{const r=setTimeout(()=>s.abort(tt),t);return()=>clearTimeout(r)}}class pt{#t;#e;#s;#i;constructor(t){const e=ee(te(t.host));try{this.#t=new URL(e)}catch(s){throw new P("The provided host is not valid",{cause:s})}this.#e={...t.requestInit,headers:ie(t,t.requestInit?.headers)},this.#s=t.httpClient,this.#i=t.timeout}#n(t,e){if(t===void 0&&e===void 0)return this.#e.headers;const s=new Headers(t);e!==void 0&&!s.has("Content-Type")&&s.set("Content-Type",e);for(const[r,o]of this.#e.headers)s.has(r)||s.set(r,o);return s}#r({path:t,method:e,params:s,contentType:r,body:o,extraRequestInit:n}){const d=new URL(t,this.#t);s!==void 0&&se(d.searchParams,s);const c={method:e,body:r===void 0||typeof o!="string"?JSON.stringify(o):o,...n,...this.#e,headers:this.#n(n?.headers,r)};return{url:d,init:c}}async#a(t){const{url:e,init:s}=this.#r(t),o=(this.#i!==void 0?Et(s,this.#i):null)?.();let n,d;try{if(this.#s!==void 0)return await this.#s(e,s);n=await fetch(e,s),d=await n.text()}catch(A){throw new It(e.toString(),Object.is(A,tt)?new At(this.#i,s):A)}finally{o?.()}const c=d===""?void 0:JSON.parse(d);if(!n.ok)throw new _t(n,c);return c}get(t){return this.#a(t)}post(t){return this.#a({...t,method:"POST"})}put(t){return this.#a({...t,method:"PUT"})}patch(t){return this.#a({...t,method:"PATCH"})}delete(t){return this.#a({...t,method:"DELETE"})}postStream(t){return this.#o({...t,method:"POST"})}async#o(t){const{url:e,init:s}=this.#r(t),o=(this.#i!==void 0?Et(s,this.#i):null)?.();let n;try{if(this.#s!==void 0){const d=await this.#s(e,s);if(!(d instanceof ReadableStream))throw new P("Custom HTTP client must return a ReadableStream for streaming requests");return d}n=await fetch(e,s)}catch(d){throw new It(e.toString(),Object.is(d,tt)?new At(this.#i,s):d)}finally{o?.()}if(!n.ok){const d=await n.text(),c=d===""?void 0:JSON.parse(d);throw new _t(n,c)}if(!n.body)throw new P("Response body is null - server did not return a readable stream");return n.body}}const Dt=Symbol("<task timeout>");function Pt(i){return function(t){return Object.defineProperty(t,"waitTask",{async value(e){return await i.waitForTask(await t,e)}})}}const ae=i=>typeof i=="number"?i:i.taskUid;class gt{#t;#e;#s;#i;constructor(t,e){this.#t=t,this.#e=e?.timeout??5e3,this.#s=e?.interval??50,this.#i=Pt(this)}async getTask(t,e){return await this.#t.get({path:`tasks/${t}`,extraRequestInit:e})}async getTasks(t){return await this.#t.get({path:"tasks",params:t})}async waitForTask(t,e){const s=ae(t),r=e?.timeout??this.#e,o=e?.interval??this.#s,n=r>0?new AbortController:null,d=n!==null?setTimeout(()=>void n.abort(Dt),r):void 0;try{for(;;){const c=await this.getTask(s,{signal:n?.signal});if(c.status!=="enqueued"&&c.status!=="processing")return clearTimeout(d),c;o>0&&await new Promise(A=>setTimeout(A,o))}}catch(c){throw Object.is(c.cause,Dt)?new Qt(s,r):c}}async*waitForTasksIter(t,e){for await(const s of t)yield await this.waitForTask(s,e)}async waitForTasks(...t){const e=[];for await(const s of this.waitForTasksIter(...t))e.push(s);return e}cancelTasks(t){return this.#i(this.#t.post({path:"tasks/cancel",params:t}))}deleteTasks(t){return this.#i(this.#t.delete({path:"tasks",params:t}))}}function yt(i,t){const e=Pt(t);return{post:(...s)=>e(i.post(...s)),put:(...s)=>e(i.put(...s)),patch:(...s)=>e(i.patch(...s)),delete:(...s)=>e(i.delete(...s))}}class L{uid;primaryKey;createdAt;updatedAt;httpRequest;tasks;#t;constructor(t,e,s){this.uid=e,this.primaryKey=s,this.httpRequest=new pt(t),this.tasks=new gt(this.httpRequest,t.defaultWaitOptions),this.#t=yt(this.httpRequest,this.tasks)}async search(t,e,s){return await this.httpRequest.post({path:`indexes/${this.uid}/search`,body:{q:t,...e},extraRequestInit:s})}async searchGet(t,e,s){const o={q:t,...e,filter:(n=>{if(typeof n=="string")return n;if(Array.isArray(n))throw new P("The filter query parameter should be in string format when using searchGet")})(e?.filter),sort:e?.sort?.join(","),facets:e?.facets?.join(","),attributesToRetrieve:e?.attributesToRetrieve?.join(","),attributesToCrop:e?.attributesToCrop?.join(","),attributesToHighlight:e?.attributesToHighlight?.join(","),vector:e?.vector?.join(","),attributesToSearchOn:e?.attributesToSearchOn?.join(",")};return await this.httpRequest.get({path:`indexes/${this.uid}/search`,params:o,extraRequestInit:s})}async searchForFacetValues(t,e){return await this.httpRequest.post({path:`indexes/${this.uid}/facet-search`,body:t,extraRequestInit:e})}async searchSimilarDocuments(t){return await this.httpRequest.post({path:`indexes/${this.uid}/similar`,body:t})}async getRawInfo(){const t=await this.httpRequest.get({path:`indexes/${this.uid}`});return this.primaryKey=t.primaryKey,this.updatedAt=new Date(t.updatedAt),this.createdAt=new Date(t.createdAt),t}async fetchInfo(){return await this.getRawInfo(),this}async fetchPrimaryKey(){return this.primaryKey=(await this.getRawInfo()).primaryKey,this.primaryKey}static create(t,e={},s){const r=new pt(s);return yt(r,new gt(r)).post({path:"indexes",body:{...e,uid:t}})}update(t){return this.#t.patch({path:`indexes/${this.uid}`,body:t})}delete(){return this.#t.delete({path:`indexes/${this.uid}`})}async getStats(){return await this.httpRequest.get({path:`indexes/${this.uid}/stats`})}async getDocuments(t){const e=`indexes/${this.uid}/documents`;return t?.filter!==void 0?await this.httpRequest.post({path:`${e}/fetch`,body:t}):await this.httpRequest.get({path:e,params:t})}async getDocument(t,e){const s=Array.isArray(e?.fields)?e.fields.join():void 0;return await this.httpRequest.get({path:`indexes/${this.uid}/documents/${t}`,params:{...e,fields:s}})}addDocuments(t,e){return this.#t.post({path:`indexes/${this.uid}/documents`,params:e,body:t})}addDocumentsFromString(t,e,s){return this.#t.post({path:`indexes/${this.uid}/documents`,body:t,params:s,contentType:e})}addDocumentsInBatches(t,e=1e3,s){const r=[];for(let o=0;o<t.length;o+=e)r.push(this.addDocuments(t.slice(o,o+e),s));return r}updateDocuments(t,e){return this.#t.put({path:`indexes/${this.uid}/documents`,params:e,body:t})}updateDocumentsInBatches(t,e=1e3,s){const r=[];for(let o=0;o<t.length;o+=e)r.push(this.updateDocuments(t.slice(o,o+e),s));return r}updateDocumentsFromString(t,e,s){return this.#t.put({path:`indexes/${this.uid}/documents`,body:t,params:s,contentType:e})}deleteDocument(t){return this.#t.delete({path:`indexes/${this.uid}/documents/${t}`})}deleteDocuments(t){const s=!Array.isArray(t)&&typeof t=="object"?"documents/delete":"documents/delete-batch";return this.#t.post({path:`indexes/${this.uid}/${s}`,body:t})}deleteAllDocuments(){return this.#t.delete({path:`indexes/${this.uid}/documents`})}updateDocumentsByFunction(t){return this.#t.post({path:`indexes/${this.uid}/documents/edit`,body:t})}async getSettings(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings`})}updateSettings(t){return this.#t.patch({path:`indexes/${this.uid}/settings`,body:t})}resetSettings(){return this.#t.delete({path:`indexes/${this.uid}/settings`})}async getPagination(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/pagination`})}updatePagination(t){return this.#t.patch({path:`indexes/${this.uid}/settings/pagination`,body:t})}resetPagination(){return this.#t.delete({path:`indexes/${this.uid}/settings/pagination`})}async getSynonyms(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/synonyms`})}updateSynonyms(t){return this.#t.put({path:`indexes/${this.uid}/settings/synonyms`,body:t})}resetSynonyms(){return this.#t.delete({path:`indexes/${this.uid}/settings/synonyms`})}async getStopWords(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/stop-words`})}updateStopWords(t){return this.#t.put({path:`indexes/${this.uid}/settings/stop-words`,body:t})}resetStopWords(){return this.#t.delete({path:`indexes/${this.uid}/settings/stop-words`})}async getRankingRules(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/ranking-rules`})}updateRankingRules(t){return this.#t.put({path:`indexes/${this.uid}/settings/ranking-rules`,body:t})}resetRankingRules(){return this.#t.delete({path:`indexes/${this.uid}/settings/ranking-rules`})}async getDistinctAttribute(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/distinct-attribute`})}updateDistinctAttribute(t){return this.#t.put({path:`indexes/${this.uid}/settings/distinct-attribute`,body:t})}resetDistinctAttribute(){return this.#t.delete({path:`indexes/${this.uid}/settings/distinct-attribute`})}async getFilterableAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/filterable-attributes`})}updateFilterableAttributes(t){return this.#t.put({path:`indexes/${this.uid}/settings/filterable-attributes`,body:t})}resetFilterableAttributes(){return this.#t.delete({path:`indexes/${this.uid}/settings/filterable-attributes`})}async getSortableAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/sortable-attributes`})}updateSortableAttributes(t){return this.#t.put({path:`indexes/${this.uid}/settings/sortable-attributes`,body:t})}resetSortableAttributes(){return this.#t.delete({path:`indexes/${this.uid}/settings/sortable-attributes`})}async getSearchableAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/searchable-attributes`})}updateSearchableAttributes(t){return this.#t.put({path:`indexes/${this.uid}/settings/searchable-attributes`,body:t})}resetSearchableAttributes(){return this.#t.delete({path:`indexes/${this.uid}/settings/searchable-attributes`})}async getDisplayedAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/displayed-attributes`})}updateDisplayedAttributes(t){return this.#t.put({path:`indexes/${this.uid}/settings/displayed-attributes`,body:t})}resetDisplayedAttributes(){return this.#t.delete({path:`indexes/${this.uid}/settings/displayed-attributes`})}async getTypoTolerance(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/typo-tolerance`})}updateTypoTolerance(t){return this.#t.patch({path:`indexes/${this.uid}/settings/typo-tolerance`,body:t})}resetTypoTolerance(){return this.#t.delete({path:`indexes/${this.uid}/settings/typo-tolerance`})}async getFaceting(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/faceting`})}updateFaceting(t){return this.#t.patch({path:`indexes/${this.uid}/settings/faceting`,body:t})}resetFaceting(){return this.#t.delete({path:`indexes/${this.uid}/settings/faceting`})}async getSeparatorTokens(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/separator-tokens`})}updateSeparatorTokens(t){return this.#t.put({path:`indexes/${this.uid}/settings/separator-tokens`,body:t})}resetSeparatorTokens(){return this.#t.delete({path:`indexes/${this.uid}/settings/separator-tokens`})}async getNonSeparatorTokens(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/non-separator-tokens`})}updateNonSeparatorTokens(t){return this.#t.put({path:`indexes/${this.uid}/settings/non-separator-tokens`,body:t})}resetNonSeparatorTokens(){return this.#t.delete({path:`indexes/${this.uid}/settings/non-separator-tokens`})}async getDictionary(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/dictionary`})}updateDictionary(t){return this.#t.put({path:`indexes/${this.uid}/settings/dictionary`,body:t})}resetDictionary(){return this.#t.delete({path:`indexes/${this.uid}/settings/dictionary`})}async getProximityPrecision(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/proximity-precision`})}updateProximityPrecision(t){return this.#t.put({path:`indexes/${this.uid}/settings/proximity-precision`,body:t})}resetProximityPrecision(){return this.#t.delete({path:`indexes/${this.uid}/settings/proximity-precision`})}async getEmbedders(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/embedders`})}updateEmbedders(t){return this.#t.patch({path:`indexes/${this.uid}/settings/embedders`,body:t})}resetEmbedders(){return this.#t.delete({path:`indexes/${this.uid}/settings/embedders`})}async getSearchCutoffMs(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/search-cutoff-ms`})}updateSearchCutoffMs(t){return this.#t.put({path:`indexes/${this.uid}/settings/search-cutoff-ms`,body:t})}resetSearchCutoffMs(){return this.#t.delete({path:`indexes/${this.uid}/settings/search-cutoff-ms`})}async getLocalizedAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/localized-attributes`})}updateLocalizedAttributes(t){return this.#t.put({path:`indexes/${this.uid}/settings/localized-attributes`,body:t})}resetLocalizedAttributes(){return this.#t.delete({path:`indexes/${this.uid}/settings/localized-attributes`})}async getFacetSearch(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/facet-search`})}updateFacetSearch(t){return this.#t.put({path:`indexes/${this.uid}/settings/facet-search`,body:t})}resetFacetSearch(){return this.#t.delete({path:`indexes/${this.uid}/settings/facet-search`})}async getPrefixSearch(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/prefix-search`})}updatePrefixSearch(t){return this.#t.put({path:`indexes/${this.uid}/settings/prefix-search`,body:t})}resetPrefixSearch(){return this.#t.delete({path:`indexes/${this.uid}/settings/prefix-search`})}async getChat(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/chat`})}updateChat(t){return this.#t.patch({path:`indexes/${this.uid}/settings/chat`,body:t})}}class re{#t;constructor(t){this.#t=t}async getBatch(t){return await this.#t.get({path:`batches/${t}`})}async getBatches(t){return await this.#t.get({path:"batches",params:t})}}class ne{#t;#e;constructor(t,e){this.#t=t,this.#e=e}async get(){return await this.#t.get({path:`chats/${this.#e}/settings`})}async update(t){return await this.#t.patch({path:`chats/${this.#e}/settings`,body:t})}async reset(){await this.#t.delete({path:`chats/${this.#e}/settings`})}async streamCompletion(t){if(!t.stream)throw new Error("The SDK only supports streaming");return await this.#t.postStream({path:`chats/${this.#e}/chat/completions`,body:t})}}class oe{config;httpRequest;#t;get tasks(){return this.#t}#e;get batches(){return this.#e}#s;constructor(t){this.config=t,this.httpRequest=new pt(t),this.#t=new gt(this.httpRequest,t.defaultWaitOptions),this.#e=new re(this.httpRequest),this.#s=yt(this.httpRequest,this.tasks)}index(t){return new L(this.config,t)}async getIndex(t){return new L(this.config,t).fetchInfo()}async getRawIndex(t){return new L(this.config,t).getRawInfo()}async getIndexes(t){const e=await this.getRawIndexes(t),s=e.results.map(r=>new L(this.config,r.uid,r.primaryKey));return{...e,results:s}}async getRawIndexes(t){return await this.httpRequest.get({path:"indexes",params:t})}createIndex(t,e){return L.create(t,e,this.config)}updateIndex(t,e){return new L(this.config,t).update(e)}deleteIndex(t){return new L(this.config,t).delete()}async deleteIndexIfExists(t){try{return await this.deleteIndex(t),!0}catch(e){if(e?.cause?.code===Gt.INDEX_NOT_FOUND)return!1;throw e}}swapIndexes(t){return this.#s.post({path:"swap-indexes",body:t})}async multiSearch(t,e){return await this.httpRequest.post({path:"multi-search",body:t,extraRequestInit:e})}chat(t){return new ne(this.httpRequest,t)}async getChatWorkspaces(){return await this.httpRequest.get({path:"chats"})}async getWebhooks(){return await this.httpRequest.get({path:"webhooks"})}async getWebhook(t){return await this.httpRequest.get({path:`webhooks/${t}`})}async createWebhook(t){return await this.httpRequest.post({path:"webhooks",body:t})}async updateWebhook(t,e){return await this.httpRequest.patch({path:`webhooks/${t}`,body:e})}async deleteWebhook(t){await this.httpRequest.delete({path:`webhooks/${t}`})}async getNetwork(){return await this.httpRequest.get({path:"network"})}async updateNetwork(t){return await this.httpRequest.patch({path:"network",body:t})}async getKeys(t){const e=await this.httpRequest.get({path:"keys",params:t});return e.results=e.results.map(s=>({...s,createdAt:new Date(s.createdAt),updatedAt:new Date(s.updatedAt)})),e}async getKey(t){return await this.httpRequest.get({path:`keys/${t}`})}async createKey(t){return await this.httpRequest.post({path:"keys",body:t})}async updateKey(t,e){return await this.httpRequest.patch({path:`keys/${t}`,body:e})}async deleteKey(t){await this.httpRequest.delete({path:`keys/${t}`})}async health(){return await this.httpRequest.get({path:"health"})}async isHealthy(){try{const{status:t}=await this.health();return t==="available"}catch{return!1}}async getStats(){return await this.httpRequest.get({path:"stats"})}async getVersion(){return await this.httpRequest.get({path:"version"})}createDump(){return this.#s.post({path:"dumps"})}createSnapshot(){return this.#s.post({path:"snapshots"})}async getExperimentalFeatures(){return await this.httpRequest.get({path:"experimental-features"})}async updateExperimentalFeatures(t){return await this.httpRequest.patch({path:"experimental-features",body:t})}}var he=I('<div class="transition first-of-type:mt-2 lg:first-of-type:mt-0 block rounded-xl text-lg px-3 py-2 text-50"> </div>'),ue=I('<div class="transition text-sm text-50" style="display: flex; align-items: flex-start; margin-top: 0.1rem"><span style="display: inline-block; background-color: var(--btn-plain-bg-hover); color: var(--primary); padding: 0.1em 0.4em; border-radius: 5px; font-size: 0.75em; font-weight: 600; margin-right: 0.5em; flex-shrink: 0;"> </span> <div><!></div></div>'),de=I('<div class="transition text-sm text-30" style="display: flex; align-items: flex-start; margin-top: 0.1rem"><span style="display: inline-block; background-color: var(--btn-plain-bg-active); color: var(--primary); padding: 0.1em 0.4em; border-radius: 5px; font-size: 0.75em; font-weight: 600; margin-right: 0.5em; flex-shrink: 0;"> </span> <div><!></div></div>'),ce=I(`<a class="transition first-of-type:mt-2 lg:first-of-type:mt-0 group block
           rounded-xl text-lg px-3 py-2 hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)]"><div class="transition text-90 inline-flex font-bold group-hover:text-[var(--primary)]"><!> <!></div> <!> <!></a>`),le=I('<a class="transition first-of-type:mt-2 lg:first-of-type:mt-0 group block rounded-xl text-lg px-3 py-2 hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] text-[var(--primary)] font-bold text-center"><span class="inline-flex items-center"> <!></span></a>'),pe=I("<!> <!>",1),ge=I('<div class="transition first-of-type:mt-2 lg:first-of-type:mt-0 block rounded-xl text-lg px-3 py-2 text-50"> </div>'),ye=I('<div class="transition first-of-type:mt-2 lg:first-of-type:mt-0 block rounded-xl text-lg px-3 py-2 text-50"> </div>'),fe=I(`<div id="search-bar" class="hidden lg:flex transition-all items-center h-11 mr-2 rounded-lg
      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]
      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10
"><!> <input class="transition-all pl-10 text-sm bg-transparent outline-0
         h-full w-40 active:w-60 focus:w-60 text-black/50 dark:text-white/50 svelte-15pne9z"/></div> <button aria-label="Search Panel" id="search-switch" class="btn-plain scale-animation lg:!hidden rounded-lg w-11 h-11 active:scale-90"><!></button> <div id="search-panel" class="float-panel float-panel-closed search-panel absolute md:w-[30rem]
top-20 left-4 md:left-[unset] right-4 shadow-2xl rounded-2xl p-2 svelte-15pne9z"><div id="search-bar-inside" class="flex relative lg:hidden transition-all items-center h-11 rounded-xl
      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]
      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10
  "><!> <input class="pl-10 absolute inset-0 text-sm bg-transparent outline-0
               focus:w-60 text-black/50 dark:text-white/50 svelte-15pne9z"/></div> <!></div>`,1);function Ee(i,t){Ht(t,!1);let e=kt(t,"searchMethod",8),s=kt(t,"meiliSearchConfig",24,()=>{}),r=H(""),o=H(""),n=H([]),d=H(!1),c=H(!1),A=null,ft;const me=[{url:St("/"),meta:{title:"This Is a Fake Search Result"},excerpt:"Because Pagefind cannot work in the <mark>dev</mark> environment."},{url:St("/"),meta:{title:"If You Want to Test the Search"},excerpt:"Try running <mark>npm build && npm preview</mark> instead."}],Ct=()=>{document.getElementById("search-panel")?.classList.toggle("float-panel-closed")},et=(u,p)=>{const w=document.getElementById("search-panel");!w||p&&!a(r)||!p&&!a(o)||(u?w.classList.remove("float-panel-closed"):w.classList.add("float-panel-closed"))},Ft=()=>{document.getElementById("search-panel")?.classList.add("float-panel-closed"),$(r,""),$(o,""),$(n,[])},mt=(u,p)=>{u.preventDefault(),Ft(),Xt(p)},j=async(u,p)=>{if(!u){et(!1,p),$(n,[]);return}a(c)&&($(d,!0),clearTimeout(ft),ft=setTimeout(async()=>{try{let w=[];if(e()===Z.MeiliSearch){if(!A)throw new Error("MeiliSearch client not initialized.");const O=await A.index(s().INDEX_NAME).search(u,{limit:10,attributesToHighlight:["title","content","description"],attributesToCrop:["content:50"],highlightPreTag:"<mark>",highlightPostTag:"</mark>"});console.log(O),w=O.hits.filter(v=>v._formatted).map(v=>({url:v._formatted?.slug,meta:{title:v._formatted?.title},excerpt:v._formatted?.description,content:v._formatted?.content}))}else if(e()===Z.PageFind&&window.pagefind){const W=await window.pagefind.search(u);w=await Promise.all(W.results.map(O=>O.data()))}$(n,w),et(!0,p)}catch(w){console.error("Search error:",w),$(n,[]),et(!1,p)}finally{$(d,!1)}},300))};jt(()=>{if(e()===Z.MeiliSearch)try{A=new oe({host:s().PUBLIC_MEILI_HOST,apiKey:s().PUBLIC_MEILI_SEARCH_KEY}),$(c,!0),console.log("MeiliSearch client initialized.")}catch(u){console.error("Failed to initialize MeiliSearch:",u)}else if(e()===Z.PageFind){const u=()=>{$(c,!0),a(r)&&j(a(r),!0),a(o)&&j(a(o),!1)};window.pagefind?u():(document.addEventListener("pagefindready",u,{once:!0}),document.addEventListener("pagefindloaderror",u,{once:!0}))}}),$t(()=>(a(c),a(r)),()=>{a(c)&&(a(r)||a(r)==="")&&j(a(r),!0)}),$t(()=>(a(c),a(o)),()=>{a(c)&&(a(o)||a(o)==="")&&j(a(o),!1)}),Bt(),zt();var bt=fe(),st=U(bt),wt=g(st);V(wt,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var J=T(wt,2);Rt(J),y(st);var X=T(st,2),Mt=g(X);V(Mt,{icon:"material-symbols:search",class:"text-[1.25rem]"}),y(X);var vt=T(X,2),it=g(vt),xt=g(it);V(xt,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var at=T(xt,2);Rt(at),y(it);var Lt=T(it,2);{var Wt=u=>{var p=he(),w=g(p,!0);y(p),D(W=>K(w,W),[()=>(f(b),f(m),l(()=>b(m.searchLoading)))]),R(u,p)},Ot=u=>{var p=ct(),w=U(p);{var W=v=>{var z=pe(),G=U(z);Vt(G,1,()=>(a(n),l(()=>a(n).slice(0,5))),Jt,(x,h)=>{var k=ce(),S=g(k),E=g(S);lt(E,()=>(a(h),l(()=>a(h).meta.title)));var q=T(E,2);V(q,{icon:"fa6-solid:chevron-right",class:"transition text-[0.75rem] translate-x-1 my-auto text-[var(--primary)]"}),y(S);var N=T(S,2);{var ot=_=>{var C=ue(),F=g(C),ht=g(F,!0);y(F);var B=T(F,2),ut=g(B);lt(ut,()=>(a(h),l(()=>a(h).excerpt))),y(B),y(C),D(dt=>K(ht,dt),[()=>(f(b),f(m),l(()=>b(m.searchSummary)))]),R(_,C)};M(N,_=>{a(h),l(()=>a(h).excerpt.includes("<mark>"))&&_(ot)})}var Nt=T(N,2);{var Kt=_=>{var C=de(),F=g(C),ht=g(F,!0);y(F);var B=T(F,2),ut=g(B);lt(ut,()=>(a(h),l(()=>a(h).content))),y(B),y(C),D(dt=>K(ht,dt),[()=>(f(b),f(m),l(()=>b(m.searchContent)))]),R(_,C)};M(Nt,_=>{a(h),l(()=>a(h).content&&a(h).content.includes("<mark>"))&&_(Kt)})}y(k),D(()=>Q(k,"href",(a(h),l(()=>a(h).url)))),Y("click",k,_=>mt(_,a(h).url)),R(x,k)});var rt=T(G,2);{var nt=x=>{var h=le(),k=g(h),S=g(k),E=T(S);V(E,{icon:"fa6-solid:arrow-right",class:"transition text-[0.75rem] ml-1"}),y(k),y(h),D((q,N)=>{Q(h,"href",`/search/?q=${q??""}`),K(S,`${N??""} `)},[()=>(a(r),a(o),l(()=>encodeURIComponent(a(r)||a(o)))),()=>(f(b),f(m),a(n),l(()=>b(m.searchViewMore).replace("{count}",(a(n).length-5).toString())))]),Y("click",h,q=>mt(q,`/search/?q=${encodeURIComponent(a(r)||a(o))}`)),R(x,h)};M(rt,x=>{a(n),l(()=>a(n).length>5)&&x(nt)})}R(v,z)},O=v=>{var z=ct(),G=U(z);{var rt=x=>{var h=ge(),k=g(h,!0);y(h),D(S=>K(k,S),[()=>(f(b),f(m),l(()=>b(m.searchNoResults)))]),R(x,h)},nt=x=>{var h=ct(),k=U(h);{var S=E=>{var q=ye(),N=g(q,!0);y(q),D(ot=>K(N,ot),[()=>(f(b),f(m),l(()=>b(m.searchTypeSomething)))]),R(E,q)};M(k,E=>{(a(r)||a(o))&&E(S)},!0)}R(x,h)};M(G,x=>{a(n),l(()=>a(n).length===0)?x(rt):x(nt,!1)},!0)}R(v,z)};M(w,v=>{a(n),l(()=>a(n).length>0)?v(W):v(O,!1)},!0)}R(u,p)};M(Lt,u=>{a(d)?u(Wt):u(Ot,!1)})}y(vt),D((u,p)=>{Q(J,"placeholder",u),Q(at,"placeholder",p)},[()=>(f(b),f(m),l(()=>b(m.search))),()=>(f(b),f(m),l(()=>b(m.search)))]),Tt(J,()=>a(r),u=>$(r,u)),Y("focus",J,()=>j(a(r),!0)),Y("click",X,Ct),Tt(at,()=>a(o),u=>$(o,u)),R(i,bt),Ut()}export{Ee as default};
